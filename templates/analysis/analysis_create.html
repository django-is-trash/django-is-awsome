{% extends "base.html" %}
{% block content %}

<h2>ğŸ†• ë¶„ì„ ìƒì„±</h2>

<form method="POST">
    {% csrf_token %}

    <!-- ê·¸ë˜í”„ ì¢…ë¥˜ ì„ íƒ -->
    <label class="form-label fw-bold">ê·¸ë˜í”„ ì¢…ë¥˜</label>
    <select name="graph_type" class="form-select w-auto mb-3">
        <option value="TOTAL">ìˆ˜ì… vs ì§€ì¶œ</option>
        <option value="CATEGORY">ì¹´í…Œê³ ë¦¬ë³„ ì§€ì¶œ</option>
    </select>

    <!-- ë¶„ì„ ê¸°ê°„ ë²„íŠ¼ë“¤ -->
    <button name="type" value="DAILY" class="btn btn-primary">ì˜¤ëŠ˜</button>
    <button name="type" value="LAST_DAY" class="btn btn-outline-primary">ì–´ì œ</button>

    <button name="type" value="WEEKLY" class="btn btn-primary">ì´ë²ˆì£¼</button>
    <button name="type" value="LAST_WEEK" class="btn btn-outline-primary">ì§€ë‚œì£¼</button>

    <button name="type" value="MONTHLY" class="btn btn-primary">ì´ë²ˆë‹¬</button>
    <button name="type" value="LAST_MONTH" class="btn btn-outline-primary">ì§€ë‚œë‹¬</button>

    <button name="type" value="YEARLY" class="btn btn-primary">ì˜¬í•´</button>
    <button name="type" value="LAST_YEAR" class="btn btn-outline-primary">ì‘ë…„</button>
</form>

{% if result %}
    <div class="alert alert-success mt-4">ë¶„ì„ ìƒì„± ì™„ë£Œ!</div>
    <p><strong>ê¸°ê°„:</strong> {{ result.period_start }} ~ {{ result.period_end }}</p>

    {% if result.result_image %}
        <img src="{{ result.result_image.url }}" width="400">
    {% endif %}
{% endif %}

{% endblock %}
